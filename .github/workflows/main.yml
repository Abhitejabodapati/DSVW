name: Main SampleVulnerableApp workflow

on:
  workflow_call:

jobs:
  sec-scan-bandit:
    uses: ./.github/workflows/bandit.yml
  sec-scan-codeql:
    uses: ./.github/workflows/codeql.yml
  sec-scan-sonarcloud:
    uses: ./.github/workflows/sonarcloud.yml
  deploy:
    runs-on: ubuntu-latest
    # require successfull scans
    needs: [sec-scan-bandit, sec-scan-codeql, sec-scan-sonarcloud]
    steps:
      - run: echo "Deploy job completed"
